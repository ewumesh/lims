<div class="row" *ngIf="sampleDetails">
  <div class="db-content">
    <div class="top-view-page p-2 mb-3">
      <div class="row log-details p-3">
        <div class="col-md-3">
          <div class="row">
            <p>Approved By</p>
            <h4>Manish Basnet</h4>
          </div>
          <div class="row mt-2">
            <p>Created By</p>
            <h4>N/A</h4>
          </div>
        </div>
        <div class="col-md-3">
          <div class="row">
            <p>Approved at</p>
            <h4>{{sampleDetails?.report_date | date:'long'}}</h4>
          </div>
          <div class="row mt-2">
            <p>Created at</p>
            <h4>{{sampleDetails?.created_date | date: 'long'}}</h4>
          </div>
        </div>
        <div class="col-md-3">
          <div class="row">
            <p>Completed At</p>
            <h4>N/A</h4>
          </div>
          <!-- <div class="row mt-2">
                      <p>Rejected at</p>
                      <h4>Lorem</h4>
                  </div> -->
        </div>
        <div class="col-md-3 log-status">
          <span style="padding: 8px" class="badge badge-primary" [statusColor]="sampleDetails.status">
            {{sampleDetails.status}}</span>
        </div>
      </div>
    </div>
    <div class="view-page">
      <h3 class="view-page-heading">Sample Details</h3>
      <div class="row">
        <div class="col-md-4">
          <h4>Sample ID</h4>
          <p>{{sampleDetails.id}}</p>
        </div>
        <div class="col-md-4">
          <h4>Sample Name </h4>
          <p>{{sampleDetails.name}}</p>
        </div>
        <div class="col-md-4">
          <h4>Commodity </h4>
          <p>{{getCommodityName(sampleDetails?.commodity) | titlecase}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <h4>MFD</h4>
          <p>{{sampleDetails.mfd | date}}</p>
        </div>
        <div class="col-md-4">
          <h4>Best Before Date</h4>
          <p>{{sampleDetails.dfb | date}}</p>
        </div>

        <div class="col-md-4">
          <h4>Batch</h4>
          <p>{{sampleDetails.batch}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <h4>Brand</h4>
          <p>{{sampleDetails.brand}}</p>
        </div>

        <div class="col-md-4">
          <h4>Purpose of Analysis</h4>
          <p>{{sampleDetails?.purpose}}</p>
        </div>

        <div class="col-md-4">
          <h4>Condition</h4>
          <p>{{sampleDetails.condition}}</p>
        </div>
      </div>
    </div>

    <div class="view-page mt-3">
      <h3 class="view-page-heading">Parameter Details</h3>
      <div class="row">
        <div class="col-md-12">
          <table class="table table-bordered">
            <tr>
              <th>S.N</th>
              <th>Parameter Name</th>
              <!-- <th>Formula</th> -->
              <th>Method</th>
              <th>Units</th>
              <!-- <th>Price</th> -->
              <!-- <th>Tested By</th> -->
              <th>Result</th>
              <th>Status</th>
            </tr>
            <tbody>
              <tr *ngFor="let r of sampleDetails.parameters; let i = index;">
                <td>{{i+1}}</td>
                <td>{{r.name | titlecase}}</td>
                <!-- <td>{{r.formula}}</td> -->
                <td>{{r.ref_test_method}}</td>
                <td>{{r.units}}</td>
                <!-- <td>Rs.{{r.price}}</td> -->
                <!-- <td>{{r.first_name | titlecase}} {{r.last_name | titlecase}}</td> -->
                <td>
                  <span *ngIf="r.status">
                    {{r?.results}}
                  </span>
                  <span *ngIf="!r.status" class="text-muted">
                    N/A
                  </span>
                </td>
                <td>
                  <span *ngIf="r.status" class="badge badge-primary" [statusColor]="r.status">{{r.status | titlecase}}</span>
                  <span  *ngIf="!r.status" class="text-muted">N/A</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

       <!-- <div class="col-md-12 text-end">
        <button class="btn btn-primary btn-sm mx-1">Download Report</button>
        <button class="btn btn-secondary btn-sm mx-1">Send for Verification</button>
       </div> -->
      </div>
    </div>
  </div>
</div>


<div class="row bg-white" *ngIf="!sampleDetails">
  <div class="col-md-12 text-center py-3">
    <div class="spinner-border text-dark" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>
